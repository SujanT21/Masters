With a semi-final spot on the line, Australia's top order was wiped out by Afghanistan's seamers.

Glenn Maxwell then pulled off one trick shot after another to counter Afghanistan and leave them feeling a sense of déjà vu. One shovelled four off Azmatullah Omarzai had Maxwell grinning from ear to ear. After he brought up a 35-ball half-century, Maxwell put his thumbs-up to the Australia dressing room and looked set to secure their place in the final four and KO Afghanistan once again.

Gulbadin Naib, though, combined with Noor Ahmad to stop Maxwell on 59 off 41 balls and keep Afghanistan alive in this T20 World Cup. After Naib hid one away from Maxwell's swinging arc, Noor pulled off a spectacular, low catch at backward point. Maxwell's exit left Australia at 106 for 6 in the 15th over, still needing 43 off 32 balls on the St Vincent pitch that offered sharp turn and variable bounce.

Naib used those conditions to his advantage to come away with career-best T20I figures of 4 for 20 to help bowl Australia out for 127. Brought in as their eighth bowler, Naib took out Maxwell, Marcus Stoinis, Tim David and Pat Cummins to headline Afghanistan's famous victory, their first over Australia across formats.

Earlier, Cummins had bagged a hat-trick in consecutive World Cup games, and almost got four in four, but this was indeed Naib and Afghanistan's day.

The opening act

Rahmanullah Gurbaz and Ibrahim Zadran struck up their third century stand in this tournament - they became the first pair to do so in any T20I series - to set Afghanistan up for a competitive total.

Both openers made half-centuries, leaving Australia waiting until the 16th over for a breakthrough. Never have Australia had to wait that long for a wicket in T20Is.

Gurbaz and Ibrahim had played out 21 dots in the first four overs in which they managed only 17. But in the next two overs they more than doubled the score, ending the powerplay on 40 for 0.

Gurbaz then jumped out of his crease and pumped Adam Zampa for a straight six while Ibrahim manufactured swinging room and crunched Ashton Agar over cover-point for four. Australia had picked the left-arm fingerspinner, ahead of Mitchell Starc, to match him up with a right-hander heavy Afghanistan line-up on a spin-friendly surface, but he went wicketless (4-1-17-0).

Gurbaz and Ibrahim largely played percentage shots to counter the conditions and Australia's attack. Ibrahim could've been dismissed on 11 had Zampa not dropped a difficult chance in the outfield; he ended up parrying it away to the boundary. Ibrahim got another life on 32 when Stoinis shelled a return catch. Australia continued to be uncharacteristically sloppy in the field, and Afghanistan capitalised on the many missed chances.

The comeback

Cummins led Australia's comeback at the death by claiming his second hat-trick in three days. On Saturday in St Vincent, he dismissed Rashid Khan, Karim Janat and Naib across the 18th and 20th overs. When he performed the feat against Bangladesh, Cummins said that he forgot he was on a hat-trick, but on Saturday against Afghanistan, he was aware of it, putting his hands up in celebration even before Maxwell had caught the ball. Cummins could've well had four in four had David Warner not dropped Nangeyalia Kharote off the next ball. From 118 for 0 in the 16th over, Afghanistan finished with 148 for 6, and it was anyone's game at the halfway mark.

Naveen's double-strike

Afghanistan have become used to Fazalhaq Farooqi striking repeatedly in the powerplay, but here it was Naveen-ul-Haq who wrecked Australia's top order. After taking the first two balls away from Travis Head, Naveen threatened to bring one back into the batter with the angle from around the wicket, but the ball swung and seamed away wickedly to make Head look silly and crash into the middle stump. In his next over, Naveen had Mitchell Marsh slicing a catch to mid-off with a 108kph slower ball that would've done Dwayne Bravo, the Afghanistan bowling consultant and Naveen's team-mate at Texas Super Kings, proud.

Hello again, Maxwell

Australia were 16 for 2 in three overs. Enter Maxwell. He set to work with two fours off Omarzai in a space of three balls and then dumped rookie left-arm spinner Kharote out of the attack. He first reverse-swept Kharote past slip for four and slog-swept him powerfully over midwicket in a 13-run over. Kharote was done with the ball after just one over.

Maxwell also took some calculated risks against Rashid and kept Australia in touch with the asking rate. When he reached his half-century with a six off Naib, the ghosts of Mumbai 2023 might have resurfaced for Afghanistan.

Naib flexes his muscles

Naib, though, helped them exorcise the ghosts.

Australia were 94 for 5 in 13 overs, with Maxwell and finisher Wade in the middle. Naib had already removed Stoinis and David in his first two overs. He wasn't even part of Afghanistan's Plan A. With the spinners erring full, especially against Maxwell, Rashid turned to Naib, who responded with two more wickets.

Naib doesn't have high pace, but he kept hitting the surface and had the ball react differently off it. After getting rid of Maxwell in his third over, he flexed his muscles and let out an almighty roar that might have been heard in Kabul. The Afghanistan fans in St Vincent roared with their hero and waved the flags.

In his final over, Naib fooled Cummins with a slower cutter before Naveen and Omarzai sealed the deal for Afghanistan.